<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/AndroidManifest.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/AndroidManifest.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#10;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_LOCATION&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&#10;    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;&#10;&#10;    &lt;application&#10;        android:allowBackup=&quot;true&quot;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#10;        android:icon=&quot;@mipmap/ic_launcher&quot;&#10;        android:label=&quot;@string/app_name&quot;&#10;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#10;        android:supportsRtl=&quot;true&quot;&#10;        android:theme=&quot;@style/Theme.RunWars&quot;&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.android.geo.API_KEY&quot;&#10;            android:value=&quot;${MAPS_API_KEY}&quot;/&gt;&#10;&#10;        &lt;!-- Default notification icon for all notifications --&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;&#10;            android:resource=&quot;@drawable/ic_stat_name&quot; /&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;&#10;            android:resource=&quot;@android:color/transparent&quot; /&gt;&#10;&#10;        &lt;service&#10;            android:name=&quot;.services.LocationTrackingService&quot;&#10;            android:enabled=&quot;true&quot;&#10;            android:exported=&quot;false&quot;&#10;            android:foregroundServiceType=&quot;location&quot; /&gt;&#10;&#10;        &lt;activity&#10;            android:name=&quot;.MainActivity&quot;&#10;            android:exported=&quot;true&quot;&#10;            android:label=&quot;@string/app_name&quot;&#10;            android:theme=&quot;@style/Theme.RunWars&quot;&gt;&#10;            &lt;intent-filter&gt;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#10;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#10;            &lt;/intent-filter&gt;&#10;        &lt;/activity&gt;&#10;    &lt;/application&gt;&#10;&#10;&lt;/manifest&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&#13;&#10;    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;&#13;&#10;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE_LOCATION&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot; /&gt;&#13;&#10;    &lt;uses-permission android:name=&quot;android.permission.REQUEST_IGNORE_BATTERY_OPTIMIZATIONS&quot; /&gt;&#13;&#10;&#13;&#10;    &lt;application&#13;&#10;        android:allowBackup=&quot;true&quot;&#13;&#10;        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;&#13;&#10;        android:fullBackupContent=&quot;@xml/backup_rules&quot;&#13;&#10;        android:icon=&quot;@mipmap/ic_launcher&quot;&#13;&#10;        android:label=&quot;@string/app_name&quot;&#13;&#10;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&#13;&#10;        android:supportsRtl=&quot;true&quot;&#13;&#10;        android:theme=&quot;@style/Theme.RunWars&quot;&gt;&#13;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.android.geo.API_KEY&quot;&#10;            android:value=&quot;${MAPS_API_KEY}&quot;/&gt;&#10;&#10;        &lt;!-- Default notification icon for all notifications --&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.firebase.messaging.default_notification_icon&quot;&#10;            android:resource=&quot;@drawable/ic_stat_name&quot; /&gt;&#10;        &lt;meta-data&#10;            android:name=&quot;com.google.firebase.messaging.default_notification_color&quot;&#10;            android:resource=&quot;@android:color/transparent&quot; /&gt;&#10;&#10;        &lt;service&#13;&#10;            android:name=&quot;.services.LocationTrackingService&quot;&#13;&#10;            android:enabled=&quot;true&quot;&#13;&#10;            android:exported=&quot;false&quot;&#13;&#10;            android:foregroundServiceType=&quot;location&quot; /&gt;&#13;&#10;&#13;&#10;        &lt;activity&#13;&#10;            android:name=&quot;.MainActivity&quot;&#13;&#10;            android:exported=&quot;true&quot;&#13;&#10;            android:label=&quot;@string/app_name&quot;&#13;&#10;            android:theme=&quot;@style/Theme.RunWars&quot;&gt;&#13;&#10;            &lt;intent-filter&gt;&#13;&#10;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;&#13;&#10;&#13;&#10;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;&#13;&#10;            &lt;/intent-filter&gt;&#13;&#10;        &lt;/activity&gt;&#13;&#10;    &lt;/application&gt;&#13;&#10;&#13;&#10;&lt;/manifest&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/LoginScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/LoginScreen.kt" />
              <option name="originalContent" value="package tech.titans.runwars&#10;import android.content.Context&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import tech.titans.runwars.views.LoginViewModel&#10;&#10;@Composable&#10;fun LoginScreen(navController: androidx.navigation.NavController, viewModel: LoginViewModel = viewModel()) {&#10;&#10;    val context = LocalContext.current&#10;    val prefs = context.getSharedPreferences(&quot;RunWarsPrefs&quot;, Context.MODE_PRIVATE)&#10;    &#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var stayLoggedIn by remember { mutableStateOf(prefs.getBoolean(&quot;stayLoggedIn&quot;, true)) }&#10;    var errorMessage by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var isLoading by remember { mutableStateOf(false) }&#10;&#10;    // Extract login logic into a function for reuse&#10;    val performLogin: () -&gt; Unit = {&#10;        if(email.isEmpty() || password.isEmpty()){&#10;            errorMessage = &quot;All fields are required&quot;&#10;        } else {&#10;            errorMessage = null&#10;            isLoading = true&#10;            viewModel.login(email, password, { success, error -&gt;&#10;                isLoading = false&#10;                if(success){&#10;                    // Save &quot;stay logged in&quot; preference&#10;                    prefs.edit().putBoolean(&quot;stayLoggedIn&quot;, stayLoggedIn).apply()&#10;                    navController.navigate(&quot;home&quot;)&#10;                }&#10;                else{&#10;                    errorMessage = error ?: &quot;Login failed&quot;&#10;                }&#10;            })&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFF2C1E3C))&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;            .padding(24.dp),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;&#10;            // Titlul aplicației&#10;            Text(&#10;                text = &quot;RunWars&quot;,&#10;                fontSize = 40.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color.White,&#10;                modifier = Modifier.padding(bottom = 50.dp)&#10;            )&#10;&#10;            // Câmp Email&#10;            OutlinedTextField(&#10;                value = email,&#10;                onValueChange = { email = it },&#10;                label = { Text(&quot;Email&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Email,&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Password&#10;            OutlinedTextField(&#10;                value = password,&#10;                onValueChange = { password = it },&#10;                label = { Text(&quot;Password&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                visualTransformation = PasswordVisualTransformation(),&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Password,&#10;                    imeAction = ImeAction.Done&#10;                ),&#10;                keyboardActions = KeyboardActions(&#10;                    onDone = { performLogin() }&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Stay Logged In Checkbox&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 30.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Checkbox(&#10;                    checked = stayLoggedIn,&#10;                    onCheckedChange = { stayLoggedIn = it },&#10;                    enabled = !isLoading,&#10;                    colors = CheckboxDefaults.colors(&#10;                        checkedColor = Color(0xFF8E5DFF),&#10;                        uncheckedColor = Color(0xFF8E5DFF),&#10;                        checkmarkColor = Color.White,&#10;                        disabledCheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                        disabledUncheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f)&#10;                    )&#10;                )&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;                Text(&#10;                    text = &quot;Stay logged in&quot;,&#10;                    color = if (isLoading) Color.White.copy(alpha = 0.5f) else Color.White,&#10;                    fontSize = 14.sp&#10;                )&#10;            }&#10;&#10;            // Buton Login&#10;            Button(&#10;                onClick = performLogin,&#10;                enabled = !isLoading,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(55.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color.Black,&#10;                    contentColor = Color.White,&#10;                    disabledContainerColor = Color.Black.copy(alpha = 0.5f),&#10;                    disabledContentColor = Color.White.copy(alpha = 0.5f)&#10;                ),&#10;                shape = MaterialTheme.shapes.medium&#10;&#10;            ) {&#10;                if (isLoading) {&#10;                    CircularProgressIndicator(&#10;                        modifier = Modifier.size(24.dp),&#10;                        color = Color.White,&#10;                        strokeWidth = 2.dp&#10;                    )&#10;                } else {&#10;                    Text(&#10;                        text = &quot;Login&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.SemiBold&#10;                    )&#10;                }&#10;            }&#10;            if(!errorMessage.isNullOrEmpty()){&#10;                Spacer(Modifier.height(8.dp))&#10;                Text(text = errorMessage ?: &quot;&quot;, color = Color.Red)&#10;            }&#10;&#10;            // Text de trecere la Register&#10;            TextButton(&#10;                onClick = { navController.navigate(&quot;register&quot;) },&#10;                enabled = !isLoading,&#10;                modifier = Modifier.padding(top = 16.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Don't have an account? Register&quot;,&#10;                    color = if (isLoading) Color(0xFF8E5DFF).copy(alpha = 0.5f) else Color(0xFF8E5DFF),&#10;                    fontSize = 14.sp&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tech.titans.runwars&#10;import android.content.Context&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import tech.titans.runwars.views.LoginViewModel&#10;&#10;@Composable&#10;fun LoginScreen(navController: androidx.navigation.NavController, viewModel: LoginViewModel = viewModel()) {&#10;&#10;    val context = LocalContext.current&#10;    val prefs = context.getSharedPreferences(&quot;RunWarsPrefs&quot;, Context.MODE_PRIVATE)&#10;    &#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var stayLoggedIn by remember { mutableStateOf(prefs.getBoolean(&quot;stayLoggedIn&quot;, true)) }&#10;    var errorMessage by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var isLoading by remember { mutableStateOf(false) }&#10;&#10;    // Extract login logic into a function for reuse&#10;    val performLogin: () -&gt; Unit = {&#10;        if(email.isEmpty() || password.isEmpty()){&#10;            errorMessage = &quot;All fields are required&quot;&#10;        } else {&#10;            errorMessage = null&#10;            isLoading = true&#10;            viewModel.login(email, password, { success, error -&gt;&#10;                isLoading = false&#10;                if(success){&#10;                    // Save &quot;stay logged in&quot; preference&#10;                    prefs.edit().putBoolean(&quot;stayLoggedIn&quot;, stayLoggedIn).apply()&#10;                    navController.navigate(&quot;home&quot;)&#10;                }&#10;                else{&#10;                    errorMessage = error ?: &quot;Login failed&quot;&#10;                }&#10;            })&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFF2C1E3C))&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;            .padding(24.dp),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;&#10;            // Titlul aplicației&#10;            Text(&#10;                text = &quot;RunWars&quot;,&#10;                fontSize = 40.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color.White,&#10;                modifier = Modifier.padding(bottom = 50.dp)&#10;            )&#10;&#10;            // Câmp Email&#10;            OutlinedTextField(&#10;                value = email,&#10;                onValueChange = { email = it },&#10;                label = { Text(&quot;Email&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Email,&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Password&#10;            OutlinedTextField(&#10;                value = password,&#10;                onValueChange = { password = it },&#10;                label = { Text(&quot;Password&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                visualTransformation = PasswordVisualTransformation(),&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Password,&#10;                    imeAction = ImeAction.Done&#10;                ),&#10;                keyboardActions = KeyboardActions(&#10;                    onDone = { performLogin() }&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Stay Logged In Checkbox&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 30.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Checkbox(&#10;                    checked = stayLoggedIn,&#10;                    onCheckedChange = { stayLoggedIn = it },&#10;                    enabled = !isLoading,&#10;                    colors = CheckboxDefaults.colors(&#10;                        checkedColor = Color(0xFF8E5DFF),&#10;                        uncheckedColor = Color(0xFF8E5DFF),&#10;                        checkmarkColor = Color.White,&#10;                        disabledCheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                        disabledUncheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f)&#10;                    )&#10;                )&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;                Text(&#10;                    text = &quot;Stay logged in&quot;,&#10;                    color = if (isLoading) Color.White.copy(alpha = 0.5f) else Color.White,&#10;                    fontSize = 14.sp&#10;                )&#10;            }&#10;&#10;            // Buton Login&#10;            Button(&#10;                onClick = performLogin,&#10;                enabled = !isLoading,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(55.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color.Black,&#10;                    contentColor = Color.White,&#10;                    disabledContainerColor = Color.Black.copy(alpha = 0.5f),&#10;                    disabledContentColor = Color.White.copy(alpha = 0.5f)&#10;                ),&#10;                shape = MaterialTheme.shapes.medium&#10;&#10;            ) {&#10;                if (isLoading) {&#10;                    CircularProgressIndicator(&#10;                        modifier = Modifier.size(24.dp),&#10;                        color = Color.White,&#10;                        strokeWidth = 2.dp&#10;                    )&#10;                } else {&#10;                    Text(&#10;                        text = &quot;Login&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.SemiBold&#10;                    )&#10;                }&#10;            }&#10;            if(!errorMessage.isNullOrEmpty()){&#10;                Spacer(Modifier.height(8.dp))&#10;                Text(text = errorMessage ?: &quot;&quot;, color = Color.Red)&#10;            }&#10;&#10;            // Text de trecere la Register&#10;            TextButton(&#10;                onClick = { navController.navigate(&quot;register&quot;) },&#10;                enabled = !isLoading,&#10;                modifier = Modifier.padding(top = 16.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Don't have an account? Register&quot;,&#10;                    color = if (isLoading) Color(0xFF8E5DFF).copy(alpha = 0.5f) else Color(0xFF8E5DFF),&#10;                    fontSize = 14.sp&#10;                )&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/MainActivity.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/MainActivity.kt" />
              <option name="originalContent" value="package tech.titans.runwars&#10;&#10;import android.content.Context&#10;import android.os.Bundle&#10;import androidx.activity.ComponentActivity&#10;import androidx.activity.compose.setContent&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Button&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.graphics.ColorFilter&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.compose.ui.unit.dp&#10;import androidx.core.view.WindowCompat&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.rememberNavController&#10;import com.google.firebase.auth.FirebaseAuth&#10;import tech.titans.runwars.ui.theme.RunWarsTheme&#10;&#10;class MainActivity : ComponentActivity() {&#10;  /*  override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        enableEdgeToEdge()&#10;        setContent {&#10;            RunWarsTheme {&#10;                Scaffold(&#10;                    modifier = Modifier.fillMaxSize(),&#10;                    bottomBar = {&#10;                        BottomAppBar(modifier = Modifier.height(80.dp),&#10;                            containerColor = Color(0xFF272244)&#10;                        )&#10;                        {&#10;                            Box(&#10;                                modifier = Modifier.fillMaxWidth(),&#10;                                contentAlignment = Alignment.Center&#10;                                )&#10;                                {&#10;                                    RunButton()&#10;                                }&#10;                        }&#10;                    }&#10;                    )&#10;                { innerPadding -&gt;&#10;                    Greeting(&#10;                        name = &quot;Android&quot;,&#10;                        modifier = Modifier.padding(innerPadding)&#10;                    )&#10;                    MapImage()&#10;                    PersonIcon()&#10;                    MenuButton()&#10;                }&#10;            }&#10;        }&#10;    }*/&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;&#10;        // Disable edge-to-edge to prevent transparent system bars on Android 14+&#10;        WindowCompat.setDecorFitsSystemWindows(window, true)&#10;&#10;        setContent {&#10;            RunWarsTheme {&#10;                Navigation()&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun Navigation(){&#10;    val navController = rememberNavController()&#10;    val context = LocalContext.current&#10;    val prefs = context.getSharedPreferences(&quot;RunWarsPrefs&quot;, Context.MODE_PRIVATE)&#10;    val stayLoggedIn = prefs.getBoolean(&quot;stayLoggedIn&quot;, false)&#10;    val currentUser = FirebaseAuth.getInstance().currentUser&#10;    &#10;    // Determine start destination based on auth state&#10;    val startDestination = if (currentUser != null &amp;&amp; stayLoggedIn) {&#10;        &quot;home&quot;&#10;    } else {&#10;        if (currentUser != null &amp;&amp; !stayLoggedIn) {&#10;            // User is logged in but didn't check &quot;stay logged in&quot;, so log them out&#10;            FirebaseAuth.getInstance().signOut()&#10;        }&#10;        &quot;login&quot;&#10;    }&#10;&#10;    NavHost(navController = navController, startDestination = startDestination){&#10;        composable(&quot;login&quot;) { LoginScreen(navController) }&#10;        composable(&quot;register&quot;) { RegisterScreen(navController) }&#10;        composable(&quot;home&quot;) { HomeScreen(navController) }&#10;    }&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun MapImage(){&#10;    Image(&#10;        painter = painterResource(id = R.drawable.map),&#10;        contentDescription = &quot;Map&quot;,&#10;        contentScale = ContentScale.Crop,&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;    )&#10;}&#10;&#10;@Composable&#10;fun MenuButton(){&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .padding(top = 15.dp),&#10;        verticalArrangement = Arrangement.Top,&#10;        horizontalAlignment = Alignment.End&#10;    )&#10;    {&#10;        Button(onClick = {print(&quot;Clicked&quot;)}){&#10;            Image(&#10;                painter = painterResource(id = R.drawable.outline_dehaze_24),&#10;                contentDescription = &quot;Menu Button&quot;&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun PersonIcon(){&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize(),&#10;        verticalArrangement = Arrangement.Center,&#10;        horizontalAlignment = Alignment.CenterHorizontally&#10;    ) {&#10;        Image(&#10;            painter = painterResource(id = R.drawable.baseline_circle_24),&#10;            contentDescription = &quot;Person Icon&quot;,&#10;            colorFilter = ColorFilter.tint(Color.Blue)&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;fun RunButton(){&#10;    Button(onClick = {print(&quot;Clicked&quot;)}){&#10;        Text(&quot;Start Run&quot;)&#10;    }&#10;}&#10;&#10;@Composable&#10;fun Greeting(name: String, modifier: Modifier = Modifier) {&#10;    Text(&#10;        text = &quot;Hello $name!&quot;,&#10;        modifier = modifier&#10;    )&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun GreetingPreview() {&#10;    RunWarsTheme {&#10;        Greeting(&quot;Android&quot;)&#10;    }&#10;}" />
              <option name="updatedContent" value="package tech.titans.runwars&#13;&#10;&#13;&#10;import android.content.Context&#13;&#10;import android.os.Bundle&#13;&#10;import androidx.activity.ComponentActivity&#13;&#10;import androidx.activity.compose.setContent&#13;&#10;import androidx.compose.foundation.Image&#13;&#10;import androidx.compose.foundation.layout.Arrangement&#13;&#10;import androidx.compose.foundation.layout.Column&#13;&#10;import androidx.compose.foundation.layout.fillMaxSize&#13;&#10;import androidx.compose.foundation.layout.padding&#13;&#10;import androidx.compose.material3.Button&#13;&#10;import androidx.compose.material3.Text&#13;&#10;import androidx.compose.runtime.Composable&#13;&#10;import androidx.compose.ui.Alignment&#13;&#10;import androidx.compose.ui.Modifier&#13;&#10;import androidx.compose.ui.graphics.Color&#13;&#10;import androidx.compose.ui.graphics.ColorFilter&#13;&#10;import androidx.compose.ui.layout.ContentScale&#13;&#10;import androidx.compose.ui.platform.LocalContext&#13;&#10;import androidx.compose.ui.res.painterResource&#13;&#10;import androidx.compose.ui.tooling.preview.Preview&#13;&#10;import androidx.compose.ui.unit.dp&#13;&#10;import androidx.core.view.WindowCompat&#13;&#10;import androidx.navigation.compose.NavHost&#13;&#10;import androidx.navigation.compose.composable&#13;&#10;import androidx.navigation.compose.rememberNavController&#13;&#10;import com.google.firebase.auth.FirebaseAuth&#13;&#10;import tech.titans.runwars.ui.theme.RunWarsTheme&#13;&#10;&#13;&#10;class MainActivity : ComponentActivity() {&#13;&#10;  /*  override fun onCreate(savedInstanceState: Bundle?) {&#13;&#10;        super.onCreate(savedInstanceState)&#13;&#10;        enableEdgeToEdge()&#13;&#10;        setContent {&#13;&#10;            RunWarsTheme {&#13;&#10;                Scaffold(&#13;&#10;                    modifier = Modifier.fillMaxSize(),&#13;&#10;                    bottomBar = {&#13;&#10;                        BottomAppBar(modifier = Modifier.height(80.dp),&#13;&#10;                            containerColor = Color(0xFF272244)&#13;&#10;                        )&#13;&#10;                        {&#13;&#10;                            Box(&#13;&#10;                                modifier = Modifier.fillMaxWidth(),&#13;&#10;                                contentAlignment = Alignment.Center&#13;&#10;                                )&#13;&#10;                                {&#13;&#10;                                    RunButton()&#13;&#10;                                }&#13;&#10;                        }&#13;&#10;                    }&#13;&#10;                    )&#13;&#10;                { innerPadding -&gt;&#13;&#10;                    Greeting(&#13;&#10;                        name = &quot;Android&quot;,&#13;&#10;                        modifier = Modifier.padding(innerPadding)&#13;&#10;                    )&#13;&#10;                    MapImage()&#13;&#10;                    PersonIcon()&#13;&#10;                    MenuButton()&#13;&#10;                }&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }*/&#13;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#13;&#10;        super.onCreate(savedInstanceState)&#13;&#10;&#13;&#10;        // Disable edge-to-edge to prevent transparent system bars on Android 14+&#13;&#10;        WindowCompat.setDecorFitsSystemWindows(window, true)&#13;&#10;&#13;&#10;        setContent {&#13;&#10;            RunWarsTheme {&#13;&#10;                Navigation()&#13;&#10;            }&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun Navigation(){&#13;&#10;    val navController = rememberNavController()&#13;&#10;    val context = LocalContext.current&#13;&#10;    val prefs = context.getSharedPreferences(&quot;RunWarsPrefs&quot;, Context.MODE_PRIVATE)&#13;&#10;    val stayLoggedIn = prefs.getBoolean(&quot;stayLoggedIn&quot;, false)&#13;&#10;    val currentUser = FirebaseAuth.getInstance().currentUser&#13;&#10;    &#13;&#10;    // Determine start destination based on auth state&#13;&#10;    val startDestination = if (currentUser != null &amp;&amp; stayLoggedIn) {&#13;&#10;        &quot;home&quot;&#13;&#10;    } else {&#13;&#10;        if (currentUser != null &amp;&amp; !stayLoggedIn) {&#13;&#10;            // User is logged in but didn't check &quot;stay logged in&quot;, so log them out&#13;&#10;            FirebaseAuth.getInstance().signOut()&#13;&#10;        }&#13;&#10;        &quot;login&quot;&#13;&#10;    }&#13;&#10;&#13;&#10;    NavHost(navController = navController, startDestination = startDestination){&#13;&#10;        composable(&quot;login&quot;) { LoginScreen(navController) }&#13;&#10;        composable(&quot;register&quot;) { RegisterScreen(navController) }&#13;&#10;        composable(&quot;home&quot;) { HomeScreen(navController) }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Preview(showBackground = true)&#13;&#10;@Composable&#13;&#10;fun MapImage(){&#13;&#10;    Image(&#13;&#10;        painter = painterResource(id = R.drawable.map),&#13;&#10;        contentDescription = &quot;Map&quot;,&#13;&#10;        contentScale = ContentScale.Crop,&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize()&#13;&#10;    )&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun MenuButton(){&#13;&#10;    Column(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize()&#13;&#10;            .padding(top = 15.dp),&#13;&#10;        verticalArrangement = Arrangement.Top,&#13;&#10;        horizontalAlignment = Alignment.End&#13;&#10;    )&#13;&#10;    {&#13;&#10;        Button(onClick = {print(&quot;Clicked&quot;)}){&#13;&#10;            Image(&#13;&#10;                painter = painterResource(id = R.drawable.outline_dehaze_24),&#13;&#10;                contentDescription = &quot;Menu Button&quot;&#13;&#10;            )&#13;&#10;        }&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun PersonIcon(){&#13;&#10;    Column(&#13;&#10;        modifier = Modifier&#13;&#10;            .fillMaxSize(),&#13;&#10;        verticalArrangement = Arrangement.Center,&#13;&#10;        horizontalAlignment = Alignment.CenterHorizontally&#13;&#10;    ) {&#13;&#10;        Image(&#13;&#10;            painter = painterResource(id = R.drawable.baseline_circle_24),&#13;&#10;            contentDescription = &quot;Person Icon&quot;,&#13;&#10;            colorFilter = ColorFilter.tint(Color.Blue)&#13;&#10;        )&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun RunButton(){&#13;&#10;    Button(onClick = {print(&quot;Clicked&quot;)}){&#13;&#10;        Text(&quot;Start Run&quot;)&#13;&#10;    }&#13;&#10;}&#13;&#10;&#13;&#10;@Composable&#13;&#10;fun Greeting(name: String, modifier: Modifier = Modifier) {&#13;&#10;    Text(&#13;&#10;        text = &quot;Hello $name!&quot;,&#13;&#10;        modifier = modifier&#13;&#10;    )&#13;&#10;}&#13;&#10;&#13;&#10;@Preview(showBackground = true)&#13;&#10;@Composable&#13;&#10;fun GreetingPreview() {&#13;&#10;    RunWarsTheme {&#13;&#10;        Greeting(&quot;Android&quot;)&#13;&#10;    }&#13;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/RegisterScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/RegisterScreen.kt" />
              <option name="originalContent" value="package tech.titans.runwars&#10;&#10;import android.content.Context&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import tech.titans.runwars.views.SignUpViewModel&#10;&#10;@Composable&#10;fun RegisterScreen(navController: androidx.navigation.NavController,&#10;                   viewModel: SignUpViewModel = viewModel()) {&#10;&#10;    val context = LocalContext.current&#10;    val prefs = context.getSharedPreferences(&quot;RunWarsPrefs&quot;, Context.MODE_PRIVATE)&#10;&#10;    var firstName by remember { mutableStateOf(&quot;&quot;) }&#10;    var lastName by remember { mutableStateOf(&quot;&quot;) }&#10;    var userName by remember { mutableStateOf(&quot;&quot;) }&#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var stayLoggedIn by remember { mutableStateOf(true) }&#10;    var errorMessage by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var isLoading by remember { mutableStateOf(false) }&#10;&#10;    // Extract register logic into a function for reuse&#10;    val performRegister: () -&gt; Unit = {&#10;        if(firstName.isEmpty() || lastName.isEmpty() || userName.isEmpty() || email.isEmpty() || password.isEmpty()){&#10;            errorMessage = &quot;All fields are required&quot;&#10;        } else {&#10;            errorMessage = null&#10;            isLoading = true&#10;            viewModel.signUp(firstName, lastName, userName, email, password, { success, error -&gt;&#10;                isLoading = false&#10;                if(success){&#10;                    // Save &quot;stay logged in&quot; preference&#10;                    prefs.edit().putBoolean(&quot;stayLoggedIn&quot;, stayLoggedIn).apply()&#10;                    navController.navigate(&quot;home&quot;)&#10;                }&#10;                else{&#10;                    errorMessage = error ?: &quot;Sign Up failed&quot;&#10;                }&#10;            })&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFF2C1E3C))&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;            .padding(24.dp),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;&#10;            // Titlul aplicației&#10;            Text(&#10;                text = &quot;Register&quot;,&#10;                fontSize = 40.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color.White,&#10;                modifier = Modifier.padding(bottom = 40.dp)&#10;            )&#10;&#10;            // Câmp First Name&#10;            OutlinedTextField(&#10;                value = firstName,&#10;                onValueChange = { firstName = it },&#10;                label = { Text(&quot;First Name&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Last Name&#10;            OutlinedTextField(&#10;                value = lastName,&#10;                onValueChange = { lastName = it },&#10;                label = { Text(&quot;Last Name&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp User Name&#10;            OutlinedTextField(&#10;                value = userName,&#10;                onValueChange = { userName = it },&#10;                label = { Text(&quot;User Name&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Email&#10;            OutlinedTextField(&#10;                value = email,&#10;                onValueChange = { email = it },&#10;                label = { Text(&quot;Email&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Email,&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Password&#10;            OutlinedTextField(&#10;                value = password,&#10;                onValueChange = { password = it },&#10;                label = { Text(&quot;Password&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                visualTransformation = PasswordVisualTransformation(),&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Password,&#10;                    imeAction = ImeAction.Done&#10;                ),&#10;                keyboardActions = KeyboardActions(&#10;                    onDone = { performRegister() }&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Stay Logged In Checkbox&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 30.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Checkbox(&#10;                    checked = stayLoggedIn,&#10;                    onCheckedChange = { stayLoggedIn = it },&#10;                    enabled = !isLoading,&#10;                    colors = CheckboxDefaults.colors(&#10;                        checkedColor = Color(0xFF8E5DFF),&#10;                        uncheckedColor = Color(0xFF8E5DFF),&#10;                        checkmarkColor = Color.White,&#10;                        disabledCheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                        disabledUncheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f)&#10;                    )&#10;                )&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;                Text(&#10;                    text = &quot;Stay logged in&quot;,&#10;                    color = if (isLoading) Color.White.copy(alpha = 0.5f) else Color.White,&#10;                    fontSize = 14.sp&#10;                )&#10;            }&#10;&#10;            // Buton Register&#10;            Button(&#10;                onClick = performRegister,&#10;                enabled = !isLoading,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(55.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color.Black,&#10;                    contentColor = Color.White,&#10;                    disabledContainerColor = Color.Black.copy(alpha = 0.5f),&#10;                    disabledContentColor = Color.White.copy(alpha = 0.5f)&#10;                ),&#10;                shape = MaterialTheme.shapes.medium&#10;            ) {&#10;                if (isLoading) {&#10;                    CircularProgressIndicator(&#10;                        modifier = Modifier.size(24.dp),&#10;                        color = Color.White,&#10;                        strokeWidth = 2.dp&#10;                    )&#10;                } else {&#10;                    Text(&#10;                        text = &quot;Register&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.SemiBold&#10;                    )&#10;                }&#10;            }&#10;            if(!errorMessage.isNullOrEmpty()){&#10;                Spacer(Modifier.height(8.dp))&#10;                Text(text = errorMessage ?: &quot;&quot;, color = Color.Red)&#10;            }&#10;&#10;            // Text de revenire la Login&#10;            TextButton(&#10;                onClick = { navController.popBackStack() },&#10;                enabled = !isLoading,&#10;                modifier = Modifier.padding(top = 16.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Already have an account? Login&quot;,&#10;                    color = if (isLoading) Color(0xFF8E5DFF).copy(alpha = 0.5f) else Color(0xFF8E5DFF),&#10;                    fontSize = 14.sp,&#10;                    softWrap = true&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package tech.titans.runwars&#10;&#10;import android.content.Context&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.text.KeyboardActions&#10;import androidx.compose.foundation.text.KeyboardOptions&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.ImeAction&#10;import androidx.compose.ui.text.input.KeyboardType&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import tech.titans.runwars.views.SignUpViewModel&#10;&#10;@Composable&#10;fun RegisterScreen(navController: androidx.navigation.NavController,&#10;                   viewModel: SignUpViewModel = viewModel()) {&#10;&#10;    val context = LocalContext.current&#10;    val prefs = context.getSharedPreferences(&quot;RunWarsPrefs&quot;, Context.MODE_PRIVATE)&#10;&#10;    var firstName by remember { mutableStateOf(&quot;&quot;) }&#10;    var lastName by remember { mutableStateOf(&quot;&quot;) }&#10;    var userName by remember { mutableStateOf(&quot;&quot;) }&#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var stayLoggedIn by remember { mutableStateOf(true) }&#10;    var errorMessage by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var isLoading by remember { mutableStateOf(false) }&#10;&#10;    // Extract register logic into a function for reuse&#10;    val performRegister: () -&gt; Unit = {&#10;        if(firstName.isEmpty() || lastName.isEmpty() || userName.isEmpty() || email.isEmpty() || password.isEmpty()){&#10;            errorMessage = &quot;All fields are required&quot;&#10;        } else {&#10;            errorMessage = null&#10;            isLoading = true&#10;            viewModel.signUp(firstName, lastName, userName, email, password, { success, error -&gt;&#10;                isLoading = false&#10;                if(success){&#10;                    // Save &quot;stay logged in&quot; preference&#10;                    prefs.edit().putBoolean(&quot;stayLoggedIn&quot;, stayLoggedIn).apply()&#10;                    navController.navigate(&quot;home&quot;)&#10;                }&#10;                else{&#10;                    errorMessage = error ?: &quot;Sign Up failed&quot;&#10;                }&#10;            })&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(Color(0xFF2C1E3C))&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;            .padding(24.dp),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        Column(&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            modifier = Modifier.fillMaxWidth()&#10;        ) {&#10;&#10;            // Titlul aplicației&#10;            Text(&#10;                text = &quot;Register&quot;,&#10;                fontSize = 40.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = Color.White,&#10;                modifier = Modifier.padding(bottom = 40.dp)&#10;            )&#10;&#10;            // Câmp First Name&#10;            OutlinedTextField(&#10;                value = firstName,&#10;                onValueChange = { firstName = it },&#10;                label = { Text(&quot;First Name&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Last Name&#10;            OutlinedTextField(&#10;                value = lastName,&#10;                onValueChange = { lastName = it },&#10;                label = { Text(&quot;Last Name&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp User Name&#10;            OutlinedTextField(&#10;                value = userName,&#10;                onValueChange = { userName = it },&#10;                label = { Text(&quot;User Name&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Email&#10;            OutlinedTextField(&#10;                value = email,&#10;                onValueChange = { email = it },&#10;                label = { Text(&quot;Email&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Email,&#10;                    imeAction = ImeAction.Next&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 16.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Câmp Password&#10;            OutlinedTextField(&#10;                value = password,&#10;                onValueChange = { password = it },&#10;                label = { Text(&quot;Password&quot;, color = Color(0xFFAAAAAA)) },&#10;                singleLine = true,&#10;                enabled = !isLoading,&#10;                visualTransformation = PasswordVisualTransformation(),&#10;                keyboardOptions = KeyboardOptions(&#10;                    keyboardType = KeyboardType.Password,&#10;                    imeAction = ImeAction.Done&#10;                ),&#10;                keyboardActions = KeyboardActions(&#10;                    onDone = { performRegister() }&#10;                ),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 20.dp),&#10;                colors = OutlinedTextFieldDefaults.colors(&#10;                    focusedBorderColor = Color(0xFF8E5DFF),&#10;                    unfocusedBorderColor = Color(0xFF8E5DFF),&#10;                    cursorColor = Color.White,&#10;                    focusedLabelColor = Color(0xFF8E5DFF),&#10;                    unfocusedLabelColor = Color(0xFFAAAAAA),&#10;                    focusedTextColor = Color.White,&#10;                    unfocusedTextColor = Color.White,&#10;                    disabledBorderColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                    disabledLabelColor = Color(0xFFAAAAAA).copy(alpha = 0.5f),&#10;                    disabledTextColor = Color.White.copy(alpha = 0.5f)&#10;                )&#10;            )&#10;&#10;            // Stay Logged In Checkbox&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 30.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Checkbox(&#10;                    checked = stayLoggedIn,&#10;                    onCheckedChange = { stayLoggedIn = it },&#10;                    enabled = !isLoading,&#10;                    colors = CheckboxDefaults.colors(&#10;                        checkedColor = Color(0xFF8E5DFF),&#10;                        uncheckedColor = Color(0xFF8E5DFF),&#10;                        checkmarkColor = Color.White,&#10;                        disabledCheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f),&#10;                        disabledUncheckedColor = Color(0xFF8E5DFF).copy(alpha = 0.5f)&#10;                    )&#10;                )&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;                Text(&#10;                    text = &quot;Stay logged in&quot;,&#10;                    color = if (isLoading) Color.White.copy(alpha = 0.5f) else Color.White,&#10;                    fontSize = 14.sp&#10;                )&#10;            }&#10;&#10;            // Buton Register&#10;            Button(&#10;                onClick = performRegister,&#10;                enabled = !isLoading,&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(55.dp),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = Color.Black,&#10;                    contentColor = Color.White,&#10;                    disabledContainerColor = Color.Black.copy(alpha = 0.5f),&#10;                    disabledContentColor = Color.White.copy(alpha = 0.5f)&#10;                ),&#10;                shape = MaterialTheme.shapes.medium&#10;            ) {&#10;                if (isLoading) {&#10;                    CircularProgressIndicator(&#10;                        modifier = Modifier.size(24.dp),&#10;                        color = Color.White,&#10;                        strokeWidth = 2.dp&#10;                    )&#10;                } else {&#10;                    Text(&#10;                        text = &quot;Register&quot;,&#10;                        fontSize = 18.sp,&#10;                        fontWeight = FontWeight.SemiBold&#10;                    )&#10;                }&#10;            }&#10;            if(!errorMessage.isNullOrEmpty()){&#10;                Spacer(Modifier.height(8.dp))&#10;                Text(text = errorMessage ?: &quot;&quot;, color = Color.Red)&#10;            }&#10;&#10;            // Text de revenire la Login&#10;            TextButton(&#10;                onClick = { navController.popBackStack() },&#10;                enabled = !isLoading,&#10;                modifier = Modifier.padding(top = 16.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Already have an account? Login&quot;,&#10;                    color = if (isLoading) Color(0xFF8E5DFF).copy(alpha = 0.5f) else Color(0xFF8E5DFF),&#10;                    fontSize = 14.sp,&#10;                    softWrap = true&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/utils/KalmanLatLong.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/tech/titans/runwars/utils/KalmanLatLong.kt" />
              <option name="originalContent" value="package tech.titans.runwars.utils&#10;&#10;&#10;/**&#10; * Kalman Filter implementation for GPS coordinates (latitude/longitude).&#10; * Uses a 2D state vector [lat, lng] with velocity estimation.&#10; */&#10;class KalmanLatLong(&#10;    private var processNoise: Float = 0.5f // Q - process noise covariance&#10;) {&#10;    // State vector: [latitude, longitude]&#10;    private var latitude: Double = 0.0&#10;    private var longitude: Double = 0.0&#10;&#10;    // Velocity estimates (degrees per second)&#10;    private var velocityLat: Double = 0.0&#10;    private var velocityLng: Double = 0.0&#10;&#10;    // Covariance matrix (variance/uncertainty)&#10;    private var varianceLat: Float = -1f&#10;    private var varianceLng: Float = -1f&#10;&#10;    // Time tracking&#10;    private var lastTimestamp: Long = 0&#10;&#10;    /**&#10;     * Process (predict) step - predicts state based on time elapsed&#10;     */&#10;    fun predict(timestamp: Long) {&#10;        if (lastTimestamp == 0L) {&#10;            lastTimestamp = timestamp&#10;            return&#10;        }&#10;&#10;        val dt = (timestamp - lastTimestamp) / 1000.0 // seconds&#10;        if (dt &lt;= 0 || dt &gt; 60) { // Ignore huge time gaps&#10;            lastTimestamp = timestamp&#10;            return&#10;        }&#10;&#10;        // Predict new position based on velocity&#10;        latitude += velocityLat * dt&#10;        longitude += velocityLng * dt&#10;&#10;        // Increase uncertainty due to process noise&#10;        if (varianceLat &gt; 0) {&#10;            varianceLat += processNoise * dt.toFloat()&#10;        }&#10;        if (varianceLng &gt; 0) {&#10;            varianceLng += processNoise * dt.toFloat()&#10;        }&#10;&#10;        lastTimestamp = timestamp&#10;    }&#10;&#10;    /**&#10;     * Update step - corrects prediction with GPS measurement&#10;     */&#10;    fun update(&#10;        measuredLat: Double,&#10;        measuredLng: Double,&#10;        accuracy: Float,&#10;        timestamp: Long&#10;    ) {&#10;        // Initialize state on first measurement&#10;        if (varianceLat &lt; 0) {&#10;            latitude = measuredLat&#10;            longitude = measuredLng&#10;            varianceLat = accuracy&#10;            varianceLng = accuracy&#10;            lastTimestamp = timestamp&#10;            return&#10;        }&#10;&#10;        // Measurement variance (GPS accuracy)&#10;        val measurementVariance = accuracy&#10;&#10;        // Kalman Gain calculation&#10;        val kalmanGainLat = varianceLat / (varianceLat + measurementVariance)&#10;        val kalmanGainLng = varianceLng / (varianceLng + measurementVariance)&#10;&#10;        // Update state estimate&#10;        val innovationLat = measuredLat - latitude&#10;        val innovationLng = measuredLng - longitude&#10;&#10;        latitude += kalmanGainLat * innovationLat&#10;        longitude += kalmanGainLng * innovationLng&#10;&#10;        // Update velocity estimate (simple differentiation)&#10;        val dt = (timestamp - lastTimestamp) / 1000.0&#10;        if (dt &gt; 0 &amp;&amp; dt &lt; 60) {&#10;            velocityLat = innovationLat / dt&#10;            velocityLng = innovationLng / dt&#10;        }&#10;&#10;        // Update covariance (reduce uncertainty)&#10;        varianceLat *= (1 - kalmanGainLat)&#10;        varianceLng *= (1 - kalmanGainLng)&#10;&#10;        // Prevent variance from getting too small (numerical stability)&#10;        varianceLat = varianceLat.coerceAtLeast(accuracy * 0.001f)&#10;        varianceLng = varianceLng.coerceAtLeast(accuracy * 0.001f)&#10;    }&#10;&#10;    /**&#10;     * Decay confidence when GPS signal is lost&#10;     */&#10;    fun decayConfidence(decayRate: Float = 1.5f) {&#10;        varianceLat += decayRate&#10;        varianceLng += decayRate&#10;&#10;        // Cap maximum uncertainty&#10;        varianceLat = varianceLat.coerceAtMost(100f)&#10;        varianceLng = varianceLng.coerceAtMost(100f)&#10;    }&#10;&#10;    /**&#10;     * Get current filtered position&#10;     */&#10;    fun getLatitude(): Double = latitude&#10;    fun getLongitude(): Double = longitude&#10;    fun getAccuracy(): Float = ((varianceLat + varianceLng) / 2f).coerceAtLeast(1f)&#10;&#10;    /**&#10;     * Reset the filter&#10;     */&#10;    fun reset() {&#10;        varianceLat = -1f&#10;        varianceLng = -1f&#10;        velocityLat = 0.0&#10;        velocityLng = 0.0&#10;        lastTimestamp = 0&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package tech.titans.runwars.utils&#10;&#10;/**&#10; * Kalman Filter implementation for GPS coordinates (latitude/longitude).&#10; * Uses a 2D state vector [lat, lng] with velocity estimation.&#10; */&#10;class KalmanLatLong(&#10;    private var processNoise: Float = 0.5f // Q - process noise covariance&#10;) {&#10;    // State vector: [latitude, longitude]&#10;    private var latitude: Double = 0.0&#10;    private var longitude: Double = 0.0&#10;&#10;    // Velocity estimates (degrees per second)&#10;    private var velocityLat: Double = 0.0&#10;    private var velocityLng: Double = 0.0&#10;&#10;    // Covariance matrix (variance/uncertainty)&#10;    private var varianceLat: Float = -1f&#10;    private var varianceLng: Float = -1f&#10;&#10;    // Time tracking&#10;    private var lastTimestamp: Long = 0&#10;&#10;    /**&#10;     * Process (predict) step - predicts state based on time elapsed&#10;     */&#10;    fun predict(timestamp: Long) {&#10;        if (lastTimestamp == 0L) {&#10;            lastTimestamp = timestamp&#10;            return&#10;        }&#10;&#10;        val dt = (timestamp - lastTimestamp) / 1000.0 // seconds&#10;        if (dt &lt;= 0 || dt &gt; 60) { // Ignore huge time gaps&#10;            lastTimestamp = timestamp&#10;            return&#10;        }&#10;&#10;        // Predict new position based on velocity&#10;        latitude += velocityLat * dt&#10;        longitude += velocityLng * dt&#10;&#10;        // Increase uncertainty due to process noise&#10;        if (varianceLat &gt; 0) {&#10;            varianceLat += processNoise * dt.toFloat()&#10;        }&#10;        if (varianceLng &gt; 0) {&#10;            varianceLng += processNoise * dt.toFloat()&#10;        }&#10;&#10;        lastTimestamp = timestamp&#10;    }&#10;&#10;    /**&#10;     * Update step - corrects prediction with GPS measurement&#10;     */&#10;    fun update(&#10;        measuredLat: Double,&#10;        measuredLng: Double,&#10;        accuracy: Float,&#10;        timestamp: Long&#10;    ) {&#10;        // Initialize state on first measurement&#10;        if (varianceLat &lt; 0) {&#10;            latitude = measuredLat&#10;            longitude = measuredLng&#10;            varianceLat = accuracy&#10;            varianceLng = accuracy&#10;            lastTimestamp = timestamp&#10;            return&#10;        }&#10;&#10;        // Measurement variance (GPS accuracy)&#10;        val measurementVariance = accuracy&#10;&#10;        // Kalman Gain calculation&#10;        val kalmanGainLat = varianceLat / (varianceLat + measurementVariance)&#10;        val kalmanGainLng = varianceLng / (varianceLng + measurementVariance)&#10;&#10;        // Update state estimate&#10;        val innovationLat = measuredLat - latitude&#10;        val innovationLng = measuredLng - longitude&#10;&#10;        latitude += kalmanGainLat * innovationLat&#10;        longitude += kalmanGainLng * innovationLng&#10;&#10;        // Update velocity estimate (simple differentiation)&#10;        val dt = (timestamp - lastTimestamp) / 1000.0&#10;        if (dt &gt; 0 &amp;&amp; dt &lt; 60) {&#10;            velocityLat = innovationLat / dt&#10;            velocityLng = innovationLng / dt&#10;        }&#10;&#10;        // Update covariance (reduce uncertainty)&#10;        varianceLat *= (1 - kalmanGainLat)&#10;        varianceLng *= (1 - kalmanGainLng)&#10;&#10;        // Prevent variance from getting too small (numerical stability)&#10;        varianceLat = varianceLat.coerceAtLeast(accuracy * 0.001f)&#10;        varianceLng = varianceLng.coerceAtLeast(accuracy * 0.001f)&#10;    }&#10;&#10;    /**&#10;     * Decay confidence when GPS signal is lost&#10;     */&#10;    fun decayConfidence(decayRate: Float = 1.5f) {&#10;        varianceLat += decayRate&#10;        varianceLng += decayRate&#10;&#10;        // Cap maximum uncertainty&#10;        varianceLat = varianceLat.coerceAtMost(100f)&#10;        varianceLng = varianceLng.coerceAtMost(100f)&#10;    }&#10;&#10;    /**&#10;     * Get current filtered position&#10;     */&#10;    fun getLatitude(): Double = latitude&#10;    fun getLongitude(): Double = longitude&#10;    fun getAccuracy(): Float = ((varianceLat + varianceLng) / 2f).coerceAtLeast(1f)&#10;&#10;    /**&#10;     * Reset the filter&#10;     */&#10;    fun reset() {&#10;        varianceLat = -1f&#10;        varianceLng = -1f&#10;        velocityLat = 0.0&#10;        velocityLng = 0.0&#10;        lastTimestamp = 0&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/res/values/themes.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/res/values/themes.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;&#10;    &lt;style name=&quot;Theme.RunWars&quot; parent=&quot;android:Theme.Material.Light.NoActionBar&quot;&gt;&#10;        &lt;!-- Status bar color --&gt;&#10;        &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/white&lt;/item&gt;&#10;        &lt;!-- Navigation bar color --&gt;&#10;        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@android:color/white&lt;/item&gt;&#10;        &lt;!-- Make status bar icons dark for light background --&gt;&#10;        &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;&#10;    &lt;/style&gt;&#10;&lt;/resources&gt;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#10;&lt;resources&gt;&#10;&#10;    &lt;style name=&quot;Theme.RunWars&quot; parent=&quot;android:Theme.Material.Light.NoActionBar&quot;&gt;&#10;        &lt;!-- Status bar color --&gt;&#10;        &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/white&lt;/item&gt;&#10;        &lt;!-- Navigation bar color --&gt;&#10;        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@android:color/white&lt;/item&gt;&#10;        &lt;!-- Make status bar icons dark for light background --&gt;&#10;        &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;&#10;    &lt;/style&gt;&#10;&lt;/resources&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>